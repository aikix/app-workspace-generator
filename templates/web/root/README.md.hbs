# {{pascalCase projectName}}

{{description}}

## ğŸš€ Quick Start

### Prerequisites

- Node.js >= 18.0.0
{{#if (eq packageManager "pnpm")}}
- pnpm
{{else if (eq packageManager "yarn")}}
- Yarn
{{else if (eq packageManager "bun")}}
- Bun
{{else}}
- npm
{{/if}}

### Installation

```bash
# Install dependencies
{{#if (eq packageManager "pnpm")}}
pnpm install
{{else if (eq packageManager "yarn")}}
yarn install
{{else if (eq packageManager "bun")}}
bun install
{{else}}
npm install
{{/if}}

# Run development server
{{#if (eq packageManager "pnpm")}}
pnpm dev
{{else if (eq packageManager "yarn")}}
yarn dev
{{else if (eq packageManager "bun")}}
bun dev
{{else}}
npm run dev
{{/if}}
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

### Environment Variables

1. Copy the example environment file:
   ```bash
   cp .env.example .env.local
   ```

2. Update `.env.local` with your configuration:

**Required Variables:**
- `NEXT_PUBLIC_APP_NAME` - Your application name
- `NEXT_PUBLIC_APP_URL` - Your application URL (default: `http://localhost:3000`)
- `NODE_ENV` - Environment (development/production/test)

{{#if (eq backend "firebase")}}
**Firebase Configuration:**

{{#if (eq firebasePattern "client-side")}}
For client-side Firebase setup, you'll need:
- `NEXT_PUBLIC_FIREBASE_API_KEY`
- `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN`
- `NEXT_PUBLIC_FIREBASE_PROJECT_ID`
- `NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET`
- `NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID`
- `NEXT_PUBLIC_FIREBASE_APP_ID`

Get these from: Firebase Console > Project Settings > General > Your apps
{{else}}
For server-side Firebase setup, you'll need:
- `FIREBASE_PROJECT_ID`
- `FIREBASE_CLIENT_EMAIL`
- `FIREBASE_PRIVATE_KEY`

Get these from: Firebase Console > Project Settings > Service Accounts > Generate New Private Key

âš ï¸ **Important**: Never commit `.env.local` to version control!
{{/if}}
{{/if}}

All environment variables are validated on startup using Zod.
If required variables are missing, you'll see helpful error messages.

## ğŸ“¦ Tech Stack

- **Framework**: {{capitalize framework}} {{#if (eq framework "next")}}15{{/if}}
{{#if typescript}}
- **Language**: TypeScript
{{/if}}
{{#if (eq styling "tailwind")}}
- **Styling**: Tailwind CSS v4
{{/if}}
{{#if (ne testing "none")}}
- **Testing**: {{capitalize testing}}
{{/if}}
{{#if (ne backend "none")}}
- **Backend**: {{capitalize backend}}
{{/if}}

## ğŸ› ï¸ Available Scripts

### Development

- `{{packageManager}} run dev` - Start development server
- `{{packageManager}} run build` - Build for production
- `{{packageManager}} run start` - Start production server
- `{{packageManager}} run type-check` - Run TypeScript type checking

{{#if linting}}
### Code Quality

- `{{packageManager}} run lint` - Run ESLint
- `{{packageManager}} run lint:fix` - Fix ESLint errors
{{/if}}

{{#if formatting}}
- `{{packageManager}} run format` - Format code with Prettier
- `{{packageManager}} run format:check` - Check code formatting
{{/if}}

{{#if (eq testing "playwright")}}
### Testing

- `{{packageManager}} run e2e` - Run E2E tests
- `{{packageManager}} run e2e:ui` - Run E2E tests with UI
- `{{packageManager}} run e2e:headed` - Run E2E tests in headed mode
- `{{packageManager}} run e2e:debug` - Debug E2E tests
{{/if}}

## ğŸ”§ Troubleshooting

### Port Already in Use

If port 3000 is already in use:

```bash
# Find and kill the process using port 3000
{{#if (eq packageManager "pnpm")}}
pnpm dev -p 3001
{{else if (eq packageManager "yarn")}}
yarn dev -p 3001
{{else if (eq packageManager "bun")}}
bun dev --port 3001
{{else}}
npm run dev -- -p 3001
{{/if}}
```

### TypeScript Errors

If you encounter TypeScript errors after installation:

```bash
# Clean and rebuild
rm -rf .next node_modules
{{#if (eq packageManager "pnpm")}}
pnpm install
{{else if (eq packageManager "yarn")}}
yarn install
{{else if (eq packageManager "bun")}}
bun install
{{else}}
npm install
{{/if}}
{{packageManager}} run type-check
```

{{#if (eq backend "firebase")}}
### Firebase Connection Issues

**Authentication errors:**
- Verify your environment variables in `.env.local`
- Check Firebase Console > Authentication is enabled
{{#if (eq firebasePattern "server-first")}}
- Ensure service account JSON has correct permissions
- Verify `FIREBASE_PRIVATE_KEY` includes newline characters
{{/if}}

**Firestore permission denied:**
- Check `firestore.rules` are deployed: `firebase deploy --only firestore:rules`
- Verify user is authenticated before accessing protected data
- Check security rules match your data structure

**Missing indexes:**
- Deploy indexes: `firebase deploy --only firestore:indexes`
- Check Firebase Console > Firestore > Indexes for index creation status
{{/if}}

### Module Resolution Issues

If imports are not resolving:

1. Check `tsconfig.json` paths configuration
2. Restart your IDE/editor
3. Clear Next.js cache: `rm -rf .next`

### Build Failures

```bash
# Clean build artifacts
rm -rf .next out

# Rebuild
{{#if (eq packageManager "pnpm")}}
pnpm build
{{else if (eq packageManager "yarn")}}
yarn build
{{else if (eq packageManager "bun")}}
bun run build
{{else}}
npm run build
{{/if}}
```

If issues persist:
- Check for TypeScript errors: `{{packageManager}} run type-check`
{{#if linting}}
- Fix linting errors: `{{packageManager}} run lint:fix`
{{/if}}
- Ensure all environment variables are set

## ğŸ“ Project Structure

```
{{projectName}}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Root layout with providers
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Home page
â”‚   â”‚   â”œâ”€â”€ loading.tsx         # Loading UI
â”‚   â”‚   â”œâ”€â”€ error.tsx           # Error boundary
â”‚   â”‚   â”œâ”€â”€ not-found.tsx       # 404 page
{{#if (eq backend "firebase")}}
{{#if (eq firebasePattern "server-first")}}
â”‚   â”‚   â”œâ”€â”€ api/                # API routes
â”‚   â”‚   â”‚   â””â”€â”€ auth/           # Authentication endpoints
â”‚   â”‚   â””â”€â”€ actions/            # Server Actions
{{/if}}
{{/if}}
â”‚   â”‚   â””â”€â”€ components/         # Component showcase
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/             # Layout components (Header, Footer, Navigation)
â”‚   â”‚   â”œâ”€â”€ ui/                 # Reusable UI components (Button, Card)
â”‚   â”‚   â””â”€â”€ features/           # Feature-specific components
â”‚   â”œâ”€â”€ hooks/                  # Custom React hooks
{{#if (eq backend "firebase")}}
{{#if (eq firebasePattern "client-side")}}
â”‚   â”‚   â””â”€â”€ firebase/           # Firebase hooks (useAuth, useFirestore)
{{/if}}
{{/if}}
â”‚   â”œâ”€â”€ lib/                    # Core utilities
â”‚   â”‚   â”œâ”€â”€ env.ts              # Type-safe environment variables with Zod
{{#if (eq backend "firebase")}}
{{#if (eq firebasePattern "client-side")}}
â”‚   â”‚   â”œâ”€â”€ firebase/           # Firebase client SDK
â”‚   â”‚   â”‚   â”œâ”€â”€ config.ts       # Firebase initialization
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # Authentication helpers
â”‚   â”‚   â”‚   â”œâ”€â”€ firestore.ts    # Firestore CRUD and subscriptions
â”‚   â”‚   â”‚   â””â”€â”€ storage.ts      # Cloud Storage helpers
{{else if (eq firebasePattern "server-first")}}
â”‚   â”‚   â”œâ”€â”€ firebase-admin/     # Firebase Admin SDK (server-side only)
â”‚   â”‚   â”‚   â”œâ”€â”€ config.ts       # Admin SDK initialization
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # Server-side auth verification
â”‚   â”‚   â”‚   â”œâ”€â”€ firestore.ts    # Server-side Firestore operations
â”‚   â”‚   â”‚   â””â”€â”€ session.ts      # Session cookie management
{{/if}}
â”‚   â”‚   â””â”€â”€ db/                 # Database models
â”‚   â”‚       â””â”€â”€ models/         # Data models (User, Post)
{{/if}}
â”‚   â”‚   â””â”€â”€ utils.ts            # Utility functions
â”‚   â””â”€â”€ types/                  # TypeScript definitions
â”‚       â”œâ”€â”€ global.d.ts         # Global type declarations
â”‚       â”œâ”€â”€ utils.ts            # Utility types (ApiResponse, AsyncReturnType)
â”‚       â””â”€â”€ index.ts            # Type exports
â”œâ”€â”€ public/                     # Static files (images, fonts, icons)
{{#if (eq testing "playwright")}}
â”œâ”€â”€ tests/                      # End-to-end tests with Playwright
{{/if}}
â”œâ”€â”€ .github/                    # GitHub configuration
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/         # Issue templates
â”‚   â””â”€â”€ PULL_REQUEST_TEMPLATE.md
{{#if documentation.architecture}}
â”œâ”€â”€ docs/                       # Project documentation
{{/if}}
{{#if (eq backend "firebase")}}
â”œâ”€â”€ firestore.rules             # Firestore security rules
â”œâ”€â”€ firestore.indexes.json      # Firestore composite indexes
{{#if (eq firebasePattern "server-first")}}
â”œâ”€â”€ middleware.ts               # Next.js middleware for route protection
{{/if}}
{{/if}}
â”œâ”€â”€ .env.local                  # Local environment variables (create from .env.example)
â”œâ”€â”€ .env.example                # Environment variables template
â”œâ”€â”€ next.config.js              # Next.js configuration
â”œâ”€â”€ tailwind.config.js          # Tailwind CSS configuration
â”œâ”€â”€ tsconfig.json               # TypeScript configuration
{{#if linting}}
â”œâ”€â”€ eslint.config.mjs           # ESLint configuration
{{/if}}
{{#if formatting}}
â”œâ”€â”€ .prettierrc.json            # Prettier configuration
{{/if}}
{{#if gitHooks}}
â”œâ”€â”€ commitlint.config.js        # Commit message linting
â”œâ”€â”€ .husky/                     # Git hooks
â”‚   â”œâ”€â”€ pre-commit              # Runs lint-staged before commits
â”‚   â””â”€â”€ commit-msg              # Validates commit messages
{{/if}}
â”œâ”€â”€ CLAUDE.md                   # AI assistant instructions
â”œâ”€â”€ CONTRIBUTING.md             # Contribution guidelines
â””â”€â”€ package.json                # Dependencies and scripts
```

### Key Directories

- **`src/app/`**: Next.js App Router with file-based routing and React Server Components
- **`src/components/`**: Reusable React components organized by category
- **`src/hooks/`**: Custom React hooks for shared logic and state management
- **`src/lib/`**: Core utilities, API clients, and business logic
- **`src/types/`**: TypeScript type definitions and utility types
{{#if (eq backend "firebase")}}
- **`src/lib/db/models/`**: Type-safe database models with CRUD operations
{{#if (eq firebasePattern "client-side")}}
- **`src/lib/firebase/`**: Firebase client SDK for browser-side operations
- **`src/hooks/firebase/`**: React hooks for Firebase real-time subscriptions
{{else if (eq firebasePattern "server-first")}}
- **`src/lib/firebase-admin/`**: Firebase Admin SDK for secure server-side operations
- **`src/app/api/`**: API routes for authentication and data mutations
- **`src/app/actions/`**: Server Actions for form submissions and mutations
{{/if}}
{{/if}}

{{#if documentation.aiInstructions}}
## ğŸ¤– AI Assistant

This project includes AI agent instructions in `CLAUDE.md` for Claude Code and similar AI assistants.
{{/if}}

## ğŸš€ Deployment

### Vercel (Recommended)

The easiest way to deploy your Next.js app is using [Vercel](https://vercel.com):

1. **Push to GitHub**:
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <your-repo-url>
   git push -u origin main
   ```

2. **Deploy to Vercel**:
   - Go to [vercel.com/new](https://vercel.com/new)
   - Import your GitHub repository
   - Vercel will automatically detect Next.js settings
   - Add environment variables from `.env.example`
   - Click "Deploy"

3. **Environment Variables**:
   - Go to Project Settings > Environment Variables
   - Add all variables from your `.env.local`
{{#if (eq backend "firebase")}}
   - For `FIREBASE_PRIVATE_KEY`, paste the entire private key including `-----BEGIN PRIVATE KEY-----` and `-----END PRIVATE KEY-----`
{{/if}}
   - Set variables for Production, Preview, and Development environments as needed

4. **Custom Domain** (Optional):
   - Go to Project Settings > Domains
   - Add your custom domain and follow DNS configuration instructions

{{#if (eq backend "firebase")}}
### Firebase Hosting

For Firebase projects, you can deploy to Firebase Hosting:

1. **Install Firebase CLI**:
   ```bash
{{#if (eq packageManager "pnpm")}}
   pnpm add -g firebase-tools
{{else if (eq packageManager "yarn")}}
   yarn global add firebase-tools
{{else if (eq packageManager "bun")}}
   bun add -g firebase-tools
{{else}}
   npm install -g firebase-tools
{{/if}}
   ```

2. **Login and Initialize**:
   ```bash
   firebase login
   firebase init hosting
   ```

   Choose:
   - Public directory: `out` (for static export) or `.next` (for Node.js hosting)
   - Configure as single-page app: Yes
   - Set up automatic builds with GitHub: Optional

3. **Configure Next.js for Static Export** (if using static hosting):

   Update `next.config.js`:
   ```js
   const nextConfig = {
     output: 'export',
     images: { unoptimized: true },
   };
   ```

4. **Build and Deploy**:
   ```bash
{{#if (eq packageManager "pnpm")}}
   pnpm build
{{else if (eq packageManager "yarn")}}
   yarn build
{{else if (eq packageManager "bun")}}
   bun run build
{{else}}
   npm run build
{{/if}}
   firebase deploy --only hosting
   ```

5. **Deploy Firestore Rules and Indexes**:
   ```bash
   firebase deploy --only firestore:rules
   firebase deploy --only firestore:indexes
   ```

{{#if (eq firebasePattern "server-first")}}
**Note**: Server-first pattern requires Node.js hosting (Cloud Functions for Firebase or Vercel), not static export.
{{/if}}
{{/if}}

### Environment Variables in Production

Ensure all required environment variables are set:

**Required for all deployments:**
- `NEXT_PUBLIC_APP_NAME`
- `NEXT_PUBLIC_APP_URL` (set to your production URL)
- `NODE_ENV=production`

{{#if (eq backend "firebase")}}
**Firebase variables:**
{{#if (eq firebasePattern "client-side")}}
- `NEXT_PUBLIC_FIREBASE_API_KEY`
- `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN`
- `NEXT_PUBLIC_FIREBASE_PROJECT_ID`
- `NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET`
- `NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID`
- `NEXT_PUBLIC_FIREBASE_APP_ID`
{{else}}
- `FIREBASE_PROJECT_ID`
- `FIREBASE_CLIENT_EMAIL`
- `FIREBASE_PRIVATE_KEY` (with newlines preserved)
{{/if}}
{{/if}}

### Build Optimization

Before deploying to production:

1. **Run a production build locally**:
   ```bash
{{#if (eq packageManager "pnpm")}}
   pnpm build
{{else if (eq packageManager "yarn")}}
   yarn build
{{else if (eq packageManager "bun")}}
   bun run build
{{else}}
   npm run build
{{/if}}
   ```

2. **Test the production build**:
   ```bash
{{#if (eq packageManager "pnpm")}}
   pnpm start
{{else if (eq packageManager "yarn")}}
   yarn start
{{else if (eq packageManager "bun")}}
   bun start
{{else}}
   npm run start
{{/if}}
   ```

3. **Check bundle size**:
   - Next.js will show bundle sizes after build
   - Optimize large bundles by code splitting and dynamic imports

4. **Performance testing**:
   - Use Lighthouse in Chrome DevTools
   - Test Core Web Vitals (LCP, FID, CLS)
   - Optimize images with Next.js Image component

## ğŸ“– Documentation

{{#if documentation.architecture}}
- [Getting Started](docs/getting-started/development-guide.md)
- [Architecture](docs/architecture/directory-structure.md)
{{/if}}

## ğŸ“ License

MIT

---

Built with â¤ï¸ using [app-workspace-generator](https://github.com/yourusername/app-workspace-generator)
