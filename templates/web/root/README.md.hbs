# {{pascalCase projectName}}

{{description}}

## ğŸš€ Tech Stack

- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS v4 + shadcn/ui
- **Backend**: Firebase ({{firebasePattern}})
- **State Management**: {{#if (eq stateManagement "zustand")}}Zustand{{else}}React Context{{/if}}
- **Testing**: {{#if (eq testing "playwright")}}Playwright{{else}}None{{/if}}
- **Animations**: {{#if animations}}Framer Motion{{else}}None{{/if}}
- **Dev Tools**: ESLint, Prettier, Husky, commitlint, semantic-release

## ğŸ“‹ Prerequisites

- Node.js >= 20.0.0
- npm (or pnpm/yarn/bun)
- Firebase project (see setup below)

## ğŸ”¥ Firebase Setup

**IMPORTANT**: Complete these steps before running the app:

### 1. Enable Authentication Providers

The Firebase CLI cannot automatically enable auth providers. You must do this manually:

1. Visit: [Firebase Console > Authentication > Sign-in method](https://console.firebase.google.com/project/{{projectName}}/authentication/providers)

2. **Enable Google Sign-In**:
   - Click "Google" provider
   - Toggle "Enable"
   - Add support email
   - Save

3. **Enable Email Link (Passwordless)**:
   - Click "Email/Password" provider
   - Toggle "Enable"
   - Toggle "Email link (passwordless sign-in)"
   - Save

### 2. Configure Environment Variables

1. Copy the example environment file:
   ```bash
   cp .env.example .env.local
   ```

2. Update `.env.local` with your Firebase credentials:

{{#if (eq firebasePattern "client-side")}}
**Client-side Firebase Configuration:**

```env
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
```

Get these from: **Firebase Console > Project Settings > General > Your apps**
{{else}}
**Server-first Firebase Configuration:**

```env
FIREBASE_PROJECT_ID=your_project_id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your_project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key_Here\n-----END PRIVATE KEY-----\n"
```

Get these from: **Firebase Console > Project Settings > Service Accounts > Generate New Private Key**

âš ï¸ **Important**: 
- Keep the quotes around `FIREBASE_PRIVATE_KEY`
- Include the `\n` newline characters
- Never commit `.env.local` to version control!
{{/if}}

### 3. Add Authorized Domains

For production deployment:

1. Go to: **Firebase Console > Authentication > Settings**
2. Add your production domain(s) to "Authorized domains"
3. `localhost` is pre-authorized for development

## ğŸš€ Quick Start

### Installation

```bash
# Install dependencies
npm install

# Run development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

## ğŸ“¦ Available Scripts

### Development

- `npm run dev` - Start development server with Turbopack
- `npm run build` - Build for production
- `npm run start` - Start production server

### Code Quality

- `npm run lint` - Run ESLint
- `npm run lint:fix` - Fix ESLint errors
- `npm run format` - Format code with Prettier

{{#if (eq testing "playwright")}}
### Testing

- `npm test` - Run Playwright E2E tests
- `npm run test:ui` - Run tests with Playwright UI
{{/if}}

### Git Workflow

- **develop**: Development branch (default)
- **main**: Production branch (triggers releases via semantic-release)

## âœ¨ Features

âœ… Firebase Authentication (Google + Email Link)
âœ… Responsive navigation with mobile menu (shadcn Sheet)
âœ… GDPR cookie consent
âœ… Dark mode support (CSS variables)
âœ… Accessible UI components (shadcn/ui)
{{#if (eq testing "playwright")}}âœ… E2E testing setup{{/if}}
âœ… CI/CD with semantic versioning
âœ… Pre-commit hooks (lint + format)
âœ… Conventional commits enforced

## ğŸ“ Project Structure

```
{{projectName}}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Root layout
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Home page
â”‚   â”‚   â”œâ”€â”€ about/              # About page
â”‚   â”‚   â”œâ”€â”€ login/              # Login + verification pages
â”‚   â”‚   â”œâ”€â”€ terms/              # Terms of Service
â”‚   â”‚   â””â”€â”€ privacy/            # Privacy Policy
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/             # Header, Footer
â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui components
â”‚   â”‚   â””â”€â”€ gdpr/               # Cookie consent
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ firebase/           # useAuthClient hook
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ firebase/           # Firebase config & auth
â”‚   â”‚   â””â”€â”€ utils.ts            # cn() helper
â”‚   â””â”€â”€ types/                  # TypeScript definitions
â”œâ”€â”€ public/                     # Static assets
{{#if (eq testing "playwright")}}
â”œâ”€â”€ tests/                      # Playwright E2E tests
{{/if}}
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/              # CI/CD workflows
â”œâ”€â”€ firestore.rules             # Firestore security rules
â”œâ”€â”€ components.json             # shadcn/ui config
â”œâ”€â”€ .env.local                  # Environment variables (create from .env.example)
â””â”€â”€ package.json
```

## ğŸ”„ State Management

{{#if (eq stateManagement "zustand")}}
### Zustand

This project uses Zustand for lightweight global state management.

**Usage example:**

```tsx
'use client';

import { useAuthStore } from '@/stores/useAuthStore';

export default function ProfilePage() {
  const { user, loading, signOut } = useAuthStore();

  if (loading) return <div>Loading...</div>;
  if (!user) return <div>Not signed in</div>;

  return (
    <div>
      <p>Welcome, {user.email}!</p>
      <button onClick={signOut}>Sign Out</button>
    </div>
  );
}
```
{{else}}
### React Context

This project uses React Context for state management.

**Usage example:**

```tsx
'use client';

import { useAuth } from '@/contexts/AuthContext';

export default function ProfilePage() {
  const { user, loading, signOut } = useAuth();

  if (loading) return <div>Loading...</div>;
  if (!user) return <div>Not signed in</div>;

  return (
    <div>
      <p>Welcome, {user.email}!</p>
      <button onClick={signOut}>Sign Out</button>
    </div>
  );
}
```
{{/if}}

## ğŸ¨ Styling with shadcn/ui

This project uses shadcn/ui for UI components. Components are built on Radix UI primitives and styled with Tailwind CSS.

### Adding New Components

```bash
# Add a specific component
npx shadcn@latest add button

# Or manually copy from https://ui.shadcn.com
```

### Theme Customization

Colors are defined in `src/app/globals.css` using CSS variables. Modify these to match your brand:

```css
:root {
  --primary: 221.2 83.2% 53.3%; /* Blue */
  --secondary: 240 4.8% 95.9%;   /* Gray */
  --destructive: 0 84.2% 60.2%;  /* Red */
  /* ... */
}
```

## ğŸš€ Deployment

### Vercel (Recommended)

1. Push to GitHub:
   ```bash
   git push -u origin develop
   ```

2. Import your repository on [Vercel](https://vercel.com/new)

3. Add environment variables from `.env.example`

4. Deploy!

{{#if (eq firebasePattern "server-first")}}
**Note**: Server-first Firebase pattern requires Node.js runtime (works on Vercel automatically).
{{/if}}

### Environment Variables in Production

Ensure these are set in your deployment platform:

{{#if (eq firebasePattern "client-side")}}
- `NEXT_PUBLIC_FIREBASE_API_KEY`
- `NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN`
- `NEXT_PUBLIC_FIREBASE_PROJECT_ID`
- `NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET`
- `NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID`
- `NEXT_PUBLIC_FIREBASE_APP_ID`
{{else}}
- `FIREBASE_PROJECT_ID`
- `FIREBASE_CLIENT_EMAIL`
- `FIREBASE_PRIVATE_KEY` (preserve newlines)
{{/if}}

## ğŸ”§ Troubleshooting

### Firebase Connection Issues

**Authentication not working:**
- Verify environment variables are set correctly
- Check Firebase Console > Authentication providers are enabled
- Ensure your domain is authorized (for production)

**"Missing or insufficient permissions":**
- Check `firestore.rules` are deployed: `firebase deploy --only firestore:rules`
- Verify user is authenticated before accessing protected data

### TypeScript Errors

```bash
# Clean and rebuild
rm -rf .next node_modules
npm install
npm run build
```

### Port Already in Use

```bash
# Use a different port
npm run dev -- -p 3001
```

## ğŸ“– Learn More

- [Next.js Documentation](https://nextjs.org/docs)
- [shadcn/ui](https://ui.shadcn.com)
- [Firebase Documentation](https://firebase.google.com/docs)
- [Tailwind CSS v4](https://tailwindcss.com/docs)
{{#if (eq testing "playwright")}}
- [Playwright](https://playwright.dev)
{{/if}}

## ğŸ“ License

MIT

---

Generated with [app-workspace-generator](https://github.com/yourusername/app-workspace-generator)
